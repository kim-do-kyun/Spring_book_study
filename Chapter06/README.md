# 06장 [스프링이 사랑한 디자인 패턴]
## :pencil: 정리
* 요리도구 - 4대 원칙(캡! 상추다)
* 요리도구 사용법 - 설계원칙(SOLID)
* 레시피 - 디자인 패턴
### 1. 어댑터 패턴(Adapter Pattern)
* 개방 폐쇄 원칙을 활용한 설계 패턴
* 객체를 속성으로 만들어서 참조하는 디자인 패턴
* <strong>"호출당하는 쪽이 메서드를 호출하는 쪽의 코드에 대응하도록 중간에 변환기를 통해 호출하는 패턴"</strong>

### 2. 프록시 패턴(Proxy Pattern)
* 실제 서비스 객체가 가진 메서드와 같은 이름의 메서드를 사용, 이를 위해 인터페이스 사용
* 인터페이스를 사용하면서 서비스 객체가 들어갈 자리에 대리자 객체를 대신 투입해 클라이언트 쪽에서는 실제 서비스 객체를 통해 메서드 호출하고 반환값을 받는지, 대리자를 통해 메서드를 호출하고 반환값을받는지 전혀 모르게 처리가능
* 중요 포인트
  * 대리자는 실제 서브스와 같은 이름의 메서드를 구현한다. 이때 인터페이스를 사용한다
  * 대리자는 실제 서비스에 대한 참조 변수를 갖는다(합성)
  * 대리자는 실제 서비스의 같은 이름을 가진 메서드를 호출하고 그 값을 클라이언트에게 돌려준다
  * 대리자는 실제 서비스의 메서드 호출 전후에 별도의 로직을 수행할 수도 있다
* <strong>"제어 흐름을 조정하기 위한 목적으로 중간에 대리자를 두는 패턴"</strong>

### 3. 데코레이터 패턴(Decorator Pattern)
* 프록시 패턴과 구현 방법은 같지만 클라이언트가 최종적으로 돌려받는 반환값에 장식을 덧입힌다
* 반환값에 장식을 더한다는 것을 뺌녀 프록시 패턴과 중요 포인트 또한 동일
* <strong>"메서드 호출의 반환값에 변화를 주기 위해 중간에 장식자를 두는 패턴"</strong>

### 4. 싱글턴 패턴(Singleton Pattern)
* 인스턴스를 하나만 만들어 사용하기 위한 패턴
* 의미상 두개의 객체존재x 이를 위해 new에 제약을 걸고, 만들어진 단일 객체를 반환할 메서드 필요
  * new를 실행할 수 없도록 생성자에 private 접근 제어자를 지정
  * 유일한 단일 객체를 반환할 수 있는 정적 메서드 필요
  * 유일한 단일 객체를 참조할 정적 참조 변수 필요
* 특징
  * private 생성자를 갖는다
  * 단일 객체 참조 변수를 정적 속성으로 갖는다
  * 단일 객체 참조 변수가 참조하는 단일 객체를 반환하는 getInstance() 정적 메서드를 갖는다
  * 단일 객체는 쓰기 가능한 속성을 갖지 않는 것이 정석이다(예제에 toString()을 정의하지 않은 이유)
* <strong>"클래스의 인스턴스, 즉 객체를 하나만 만들어 사용하는 패턴"</strong>


### 5. 템플릿 메서드 패턴(Template Method Pattern)
* 상위 클래스에 공통 로직을 수행하는 템플릿 메서드와 하위 클래스에 오버라이딩을 강제하는 추상 메서드 또는 선택적으로 오버라이딩 할 수 있는 훅(Hook)메서드를 두는 패턴
* 어떻게 보면 오버라이딩의 장점을 제대로 써먹는 패턴

| 템플릿 메서드 패턴의 구성 요소                                       | 상위 클래스(Animal)  | 하위클래스(Dog/Cat) |
|---------------------------------------------------------|-----------------|----------------|
| 템플릿 메서드<br/>공통 로직을 수행, 로직 중에 하위 클래스에서<br/> 오버라이딩한 추상 메서드/훅 메서드를 호출 | playWithOwner() |                |
| 템플릿 메서드에서 호출하는 추상 메서드<br/>하위 클래스가 반드시 오버라이딩해야 한다        | play()| 오버라이딩 필수       |
| 템플릿 메서드에서 호출하는 훅(Hook, 갈고리)메서드<br/>하위 클래스가 선택적으로 오버라이딩한다| runSomething()|오버라이딩 선택|
* <strong>"상위 클래스의 견본 메서드에서 하위 클래스가 오버라이딩한 메서드를 호출하는 패턴"</strong>

### 6. 팩터리 메서드 패턴(Factory Method Pattern)
* 하위 클래스에서 팩터리 메서드를 오버라이딩해서 객체를 반환하게 하는 것
* <strong>"오버라이드된 메서드가 객체를 반환하는 패턴"</strong>

### 7. 전략패턴(Strategy Pattern)
* 구성요소
  * 전략 메서드를 가진 전략 객체
  * 전략 객체를 사용하는 컨텍스트(전략 객체의 사용자/소비자)
  * 전략 객체를 생성해 컨텍스트에 주입하는 클라이언트(제3자, 전략 객체의 공급자)
* 클라이언트는 다양한 전략 중 하나를 선택해 생성한 후 컨텍스트에 주입한다
* 다양한 곳에서 다양한 문제 상황의 해결책으로 사용됨
* <strong>"클라이언트가 전략을 생성해 전략을 실행할 컨텍스트에 주입하는 패턴"</strong>

### 8. 템플릿 콜백 패턴(Template Callback Pattern - 견본/회신 패턴)
* 전략 패턴의 변형으로, 스프링의 3대 프로그래밍 모델 중 하나인 DI(의존성 주입)에서 사용하는 특별한 형태의 전략패턴
* 전략 패턴과 동일하지만 전략을 익명 내부 클래스로 정의해서 사용
* <strong>"전략을 익명 내부 클래스로 구현한 전략 패턴"</strong>