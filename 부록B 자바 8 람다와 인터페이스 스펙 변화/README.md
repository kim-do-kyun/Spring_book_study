# 부록 B. 자바 8 람다와 인터페이스 스펙 변화
## :pencil: 정리
### B.1 람다가 도입된 이유
* 자바 8에서는 병렬화를 위해 컬렉션(배열, List, Set, Map)을 강화하고 이를 효율적으로 사용하기 위해 스트림(Stream)을 강화함
* 람다를 지원하기 위한 인터페이스를 함수형 인터페이스라고 한다
  ![스크린샷 2024-01-01 175350](https://github.com/kim-do-kyun/CleanCode_Study/assets/70315428/330f46e0-8e58-460b-9a8d-280071f33c32)
<br>

### B.2 람다란 무엇인가?
* 람다란 한 마디로 코드 블록이다
* 기존의 코드 블록은 반드시 메서드 내에 존재해야 했다.
* 코드 블록인 람다를 메서드의 인자나 반환값으로 사용할 수 있게 됐다 -> 코드 블록을 변수처럼 사용할 수 있다는 것
* **람다의 구조**
  * (인자 목록) -> { 로직 } (로직이 단 한줄로 표기되는 경우 블록 기호 {} 마저 생략할 수 있음)
<br>

### B.3 함수형 인터페이스
* 추상메서드를 하나만 갖는 인터페이스를 자바 8부터 **함수형 인터페이스**라고 한다
* 인터페이스 위에 @FunctionalInterface 어노테이션을 붙이면 컴파일러는 인터페이스가 함수형 인터페이스의 조건에 맞는지 검사한다(즉, 단 하나의 추상 메서드만 갖고 있는지 확인함)
* int를 생략 가능 : 이를 **타입 추정**기능 이라고 한다(예제코드 확인)
<br>

### B.4 메서드 호출 인자로 람다 사용
* 람다식을 변수에 저장하는 것이 가능하다면 메서드의 인자로도 사용 가능(코드 블록을 메서드의 인자로 전달 할 수 있다는 것)
* 람다식을 단 한번만 사용한다면 굳이 변수에 할당할 필요도없음
<br>

### B.5 메서드 반환값으로 람다 사용
* 람다식을 메서드의 반환값으로도 사용 가능
``` return -> num * num;```
<br>

### B.6 자바 8 API에서 제공하는 함수형 인터페이스
* 개발자들이 많이 쓸 것이라고 예상되는 함수형 인터페이스를 java.util.function 패키지와 여러 패키지에서 제공하고 있다
* Function은 한국어로 함수이고 함수의 정의는 **입력을 받아 처리한 후 출력하는 기능**이다
![스크린샷 2024-01-01 184523](https://github.com/kim-do-kyun/CleanCode_Study/assets/70315428/6773fa5c-7086-4359-8433-cdbfbf844fec)
![스크린샷 2024-01-01 184902](https://github.com/kim-do-kyun/CleanCode_Study/assets/70315428/6534f4ce-fc78-49fe-80a2-f32694f03743)
<br>

### B.7 컬렉션 스트림에서 람다 사용
* 아래의 forEach문과 Arrays.stream문장은 같은 기능을 수행함
* 스트림 구문은 함수형 프로그래밍의 장점인 선언적 프로그래밍을 활용하는 것이다(의사소통 내용 자체가 그대로 코드로 구현된 것)
```
public static void main(String[] args){
  Integer[] ages = { 20, 25, 18, 27, 30, 21, 17, 19, 34, 28}

  for(int age : ages){
    if (age < 20) {
      System.out.format("Age %d!!! Can't enter\n", age);
    }
  }

  Arrays.stream(ages)
    .filter(age -> age < 20)
    .forEach(age -> System.out.format("Age %d!!! Can't enter\n", age));
}
```
<br>

### B.8 메서드 레퍼런스와 생성자 레퍼런스
* 람다식은 인자를 아무런 가공 없이 그대로 출력하는 것을 메서드 레퍼런스 라고 함
  * 인스턴스::인스턴스메서드
    * 정적 메서드의 인자가 된다
  * 클래스::정적메서드
    * 인스턴스메서드의 인자가 된다
  * 클래스::인스턴스메서드
    * 첫번째 인자는 인스턴스가 되고 그 다음 인자(들)는 인스턴스 메서드의 인자(들)가 된다
* 메서드 레퍼런스는 람다식으로 변형되고 최종적으로 함수형 인터페이스가 된다
* 생성자 레퍼런스
  * 클래스::new
<br>

### B.9 인터페이스의 디폴트 메서드와 정적 메서드
* 자바 8이전에 인터페이스가 가질 수 있는 멤버는
  * 정적 상수
  * 추상 인스턴스메서드
* 자바 8에서 인터페이스가 가질 수 있는 멤버는
  * 정적 상수
  * 추상 인스턴스 메서드
  * **구체 인스턴스 메서드 - 디폴트 메서드**
  * **(구체) 정적 메서드**
* 이제 인스턴스도 구체 인스턴스 메서드, 즉 몸체를 가진 인스턴스 메서드를 가질 수 있게 됐다 
  * 이를 디폴트 메서드라고 하고 default 키워드를 메서드 정의에 사용
  * (구체) 정적 메서드는 static 키워드를 메서드 정의에 사용
<br>

### B.10 정리
* **람다 = 변수에 저장 가능한 로직**
* 기존의 자바에서 로직은 메서드를 통해서만 구현이 가능했지만 로직을 람다로 표현할 수도 있다.(람다가 메서드의 역할도 할 수 있게 된 것) -> 더이상 로직을 메서드의 체계, 즉 **객체 메서드나 정적 메서드**안에 구현하지 않아도 된다는 것